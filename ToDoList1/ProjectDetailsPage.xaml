<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ToDoList1.ProjectDetailsPage"
             Title="Проект">

    <Grid RowDefinitions="Auto,*,Auto" Padding="20">
        <Border Grid.Row="0"
                Margin="0,0,0,15"
                Stroke="#dee2e6"
                StrokeThickness="1"
                BackgroundColor="White">
            <Border.StrokeShape>
                <RoundRectangle CornerRadius="15"/>
            </Border.StrokeShape>
            <VerticalStackLayout Padding="20">
                <Label x:Name="ProjectTitle"
                       FontSize="24"
                       FontAttributes="Bold"
                       TextColor="#2c3e50"/>
                <Label x:Name="ProjectDescription"
                       FontSize="16"
                       TextColor="#7f8c8d"
                       Margin="0,10,0,0"/>
            </VerticalStackLayout>
        </Border>
        <VerticalStackLayout Grid.Column="1"
                     Margin="10,0">
            <Label Text="{Binding Name}"
                   FontSize="16"
                   TextColor="#2c3e50"/>    
            <Label Text="{Binding Description}"
                   FontSize="12"
                   TextColor="#7f8c8d"
                   MaxLines="2"/>
            <Button Text="Удалить проект"
                    BackgroundColor="#e74c3c"
                    TextColor="White"
                    CornerRadius="10"
                    WidthRequest="30"
                    HeightRequest="30"
                    FontSize="10"
                    Clicked="DeleteProject_Clicked"/>
            <Button Text="+ Задача"
                    BackgroundColor="#3498db"
                    TextColor="White"
                    FontSize="16"
                    CornerRadius="25"
                    HeightRequest="50"
                    Clicked="AddTask_Clicked"/>
        </VerticalStackLayout>
        <CollectionView x:Name="TasksList"
                        Grid.Row="1"
                        Margin="0,0,0,15"
                        EmptyView="Нет задач"
                        EmptyViewTemplate="{StaticResource EmptyViewTemplate}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Stroke="#dee2e6"
                            StrokeThickness="1"
                            BackgroundColor="White"
                            Margin="0,0,0,10">
                        <Border.StrokeShape>
                            <RoundRectangle CornerRadius="12" />
                        </Border.StrokeShape>
                        <Grid ColumnDefinitions="Auto,*,Auto"
                              Padding="15">
                            <CheckBox x:Name="TaskCheckbox"
                                      Grid.Column="0"
                                      VerticalOptions="Center"
                                      IsChecked="{Binding IsCompleted}"
                                      Color="#27ae60"
                                      CheckedChanged="TaskCheckbox_Changed"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>
    </Grid>
        
</ContentPage>